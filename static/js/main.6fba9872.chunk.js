(this.webpackJsonptic=this.webpackJsonptic||[]).push([[0],{15:function(e,t,n){},18:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),i=n(9),u=n.n(i),a=n(2),s=(n(15),r.a.createContext([2,function(){}])),o=n(1);var l=function(e){var t=e.player,n=Object(c.useContext)(s)[0];return Object(o.jsxs)("section",{children:["Player ",t," turn (",n,")"]})},j=n(4),f=n(8),b=n.n(f),O=n(10);var d=function(e){var t=e.player,n=e.boardSet,r=e.board,i=e.index,u=e.winner,l=Object(c.useState)(null),f=Object(a.a)(l,2),d=f[0],v=f[1],p=(Object(c.useContext)(s)[0],Object(c.useContext)(s)),h=Object(a.a)(p,2),x=(h[0],h[1]),y=function(){var e=Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==d){e.next=2;break}return e.abrupt("return");case 2:g(),x((function(e){return e+1}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){S()}),[d]),Object(c.useEffect)((function(){}),[d]);var S=function(){var e=Object(j.a)(r);e[i]=d,n(e)};Object(c.useEffect)((function(){v(r[i])}),[r]);var g=function(){switch(t){case"X":v("X");break;case"O":v("O");break;default:console.log("error player")}};return Object(o.jsx)("div",{className:"cell".concat(u||d?"--filled":""),onClick:y,children:d})},v=function(e){var t=e.winner;return Object(o.jsxs)("div",{children:["Winner is ",t]})},p=(n(18),n(7));n(19);var h=function(e){var t=e.player,n=Object(c.useState)([null,null,null,null,null,null,null,null,null]),r=Object(a.a)(n,2),i=r[0],u=r[1],s=Object(c.useState)([]),l=Object(a.a)(s,2),f=l[0],b=l[1],O=Object(c.useState)(null),h=Object(a.a)(O,2),x=h[0],y=h[1],S=Object(c.useState)([[0,1,2],[3,4,5],[6,7,8],[0,4,8],[2,4,6],[0,3,6],[1,4,7],[2,5,8]]),g=Object(a.a)(S,2),w=g[0],E=(g[1],new p.default("test"));E.version(1).stores({friends:"++id"}),Object(c.useEffect)((function(){k("X"),k("O")}),[i]);var k=function(e){var t=[];i.forEach((function(n,c){n===e&&t.push(c)})),m(t)};Object(c.useEffect)((function(){JSON.stringify(f).includes(JSON.stringify(i))||b((function(e){return[].concat(Object(j.a)(e),[i])}))}),[i]);var m=function(e){w.some((function(t){return t.join()==e.join()}));w.forEach((function(t,n){t.join()===e.join()&&y(i[e[0]])}))};return Object(c.useEffect)((function(){E.friends.clear(),E.friends.put({history:f.join()})}),[f]),Object(o.jsxs)("section",{className:"grid",children:[Object(o.jsx)("div",{className:"grid__inner",children:i&&i.map((function(e,n){return Object(o.jsx)(d,{player:t,index:n,boardSet:u,board:i,winner:x})}))}),Object(o.jsx)("button",{type:"button",onClick:function(){var e=Object(j.a)(f);u(e[e.length-2]),e.pop();var t=e.slice(0,-1);b(t)},children:"Back"}),x&&Object(o.jsx)(v,{winner:x})]})};var x=function(){var e=Object(c.useState)("X"),t=Object(a.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(1),u=i[0];return Object(c.useEffect)((function(){r(u%2===0?"O":"X")}),[i]),Object(o.jsx)(s.Provider,{value:i,children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(l,{player:n}),Object(o.jsx)(h,{player:n})]})})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,u=t.getTTFB;n(e),c(e),r(e),i(e),u(e)}))};u.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(x,{})}),document.getElementById("root")),y()}},[[20,1,2]]]);
//# sourceMappingURL=main.6fba9872.chunk.js.map